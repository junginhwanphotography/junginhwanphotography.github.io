<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Jung In Hwan Photography</title>
    <meta
      name="description"
      content="Jung In Hwan의 사진 포트폴리오. 다양한 작품을 한눈에 감상해 보세요."
    />
    <link rel="icon" type="image/png" href="favicon.png" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Jung In Hwan Photography" />
    <meta property="og:description" content="Jung In Hwan의 사진 포트폴리오. 다양한 작품을 한눈에 감상해 보세요." />
    <meta property="og:image" content="og-image.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="main-page">
    <nav class="collection-nav" id="collection-nav">
      <!-- collections.json을 통해 자동으로 메뉴가 렌더링됩니다. -->
    </nav>

    <header class="site-header">
      <div class="header-inner">
        <div>
          <h1 class="site-title">
            <a href="index.html" class="site-title-link">Jung In Hwan</a>
          </h1>
          <p class="site-subtitle">Photography</p>
        </div>
      </div>
    </header>

    <main class="main-blank">
      <!-- 메인: 로고 아래 흰 공백 -->
    </main>

    <script>
      // 컬렉션 메뉴 로드 (WALL, COLLECTION#1, COLLECTION#2)
      async function loadSidebar() {
        const nav = document.getElementById("collection-nav");
        if (!nav) return;

        let currentId = "index";
        if (window.location.pathname.includes("collection.html")) {
          currentId = new URLSearchParams(window.location.search).get("collection") || "";
        }

        try {
          const res = await fetch("collections.json", { cache: "no-store" });
          if (!res.ok) return;
          const collections = await res.json();
          if (!Array.isArray(collections)) return;

          function displayName(id) {
            return id && id.startsWith("_") ? id.slice(1) : (id || "");
          }
          collections.forEach((collection, index) => {
            const link = document.createElement("a");
            link.href = "collection.html?collection=" + encodeURIComponent(collection.id);
            link.textContent = displayName(collection.id);
            link.className = "sidebar-link";
            if (collection.id === currentId) link.classList.add("active");
            // _ 로 시작하는 컬렉션은 맨 위에 표시하고 아래 간격 추가
            if (collection.id.startsWith("_")) {
              link.classList.add("wall-link");
            }
            nav.appendChild(link);
          });
        } catch (e) {}
      }
      loadSidebar();
    </script>
  </body>
</html>
